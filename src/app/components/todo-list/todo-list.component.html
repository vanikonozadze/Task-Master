<div class="list-of-task-box">
  <div
    class="task"
    *ngFor="let task of taskArray"
    (mouseenter)="toggleDeleteButton(task, true)"
    (mouseleave)="toggleDeleteButton(task, false)"
    [class.light-back-color]="!this.taskService.darkMode"
  >
    <div class="task-content">
      <button
        class="complete-task-button"
        (click)="toggleComplete(task)"
        [class.completed]="isTaskCompleted(task)"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="11"
          height="9"
          *ngIf="this.taskService.darkMode; else lightBlock"
        >
          <path
            fill="none"
            [attr.stroke]="
              isTaskCompleted(task) ? '#fff' : 'hsl(235, 24%, 19%)'
            "
            stroke-width="2"
            d="M1 4.304L3.696 7l6-6"
          />
        </svg>
        <ng-template #lightBlock>
          <svg xmlns="http://www.w3.org/2000/svg" width="11" height="9">
            <path
              fill="none"
              stroke="#fff"
              stroke-width="2"
              d="M1 4.304L3.696 7l6-6"
            />
          </svg>
        </ng-template>
      </button>
      <span
        [class.black-color]="!this.taskService.darkMode"
        [class.crossed-out]="isTaskCompleted(task)"
        >{{ task.description }}</span
      >
      <svg
        (click)="deleteItem(task)"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        class="delete-button"
        *ngIf="task.showDeleteButton"
      >
        <path
          fill="#494C6B"
          fill-rule="evenodd"
          d="M16.97 0l.708.707L9.546 8.84l8.132 8.132-.707.707-8.132-8.132-8.132 8.132L0 16.97l8.132-8.132L0 .707.707 0 8.84 8.132 16.971 0z"
        />
      </svg>
    </div>
  </div>
  <div
    [class.light-back-color]="!this.taskService.darkMode"
    class="mobile-div mobile"
  >
    <p>{{ taskArray.length }} items left</p>
    <p
      class="clear-completed"
      [class.light-color]="!this.taskService.darkMode"
      (click)="clearCompletedArray()"
    >
      Clear Completed
    </p>
  </div>
  <div
    class="bottom-div desktop"
    [class.light-back-color]="!this.taskService.darkMode"
  >
    <p style="color: hsl(236, 9%, 61%)">{{ taskArray.length }} items left</p>
    <ul>
      <li
        [class.isBlue]="showAllBool"
        (click)="showAllTasks()"
        [class.light-color]="!this.taskService.darkMode"
      >
        All
      </li>
      <li
        [class.isBlue]="activeBool"
        (click)="showActiveTasks()"
        [class.light-color]="!this.taskService.darkMode"
      >
        Active
      </li>
      <li
        [class.isBlue]="completedBool"
        (click)="showCompletedTasks()"
        [class.light-color]="!this.taskService.darkMode"
      >
        Completed
      </li>
    </ul>
    <p
      class="clear-completed"
      [class.light-color]="!this.taskService.darkMode"
      (click)="clearCompletedArray()"
    >
      Clear Completed
    </p>
  </div>
  <div
    class="bottom-div mobile"
    [class.light-back-color]="!this.taskService.darkMode"
  >
    <ul>
      <li
        [class.isBlue]="showAllBool"
        (click)="showAllTasks()"
        [class.light-color]="!this.taskService.darkMode"
      >
        All
      </li>
      <li
        [class.isBlue]="activeBool"
        (click)="showActiveTasks()"
        [class.light-color]="!this.taskService.darkMode"
      >
        Active
      </li>
      <li
        [class.isBlue]="completedBool"
        (click)="showCompletedTasks()"
        [class.light-color]="!this.taskService.darkMode"
      >
        Completed
      </li>
    </ul>
  </div>
</div>
